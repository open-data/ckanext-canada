window.addEventListener("load",function(){$(document).ready(function(){let e={},n=document.querySelectorAll("[cascading_select_field]"),t={};function o(n,c){for(const[a,s]of Object.entries(t))if(s===n){const n=document.getElementsByName(a)[0];for(;n.options.length>0;)n.remove(0);n.add(new Option("",""));const t=e[a][c];if(t)for(const[e,o]of Object.entries(t))n.add(new Option(o,e));o(a,n.value),n.onchange&&n.onchange()}}n.forEach(function(e){t[e.name]=e.getAttribute("cascading_select_field")}),n.forEach(n=>{const o=document.getElementsByName(t[n.name])[0];e[n.name]={};for(let t=0;t<o.options.length;t++){const c=o.options[t].value;if(""!==c){e[n.name][c]={};for(let t=0;t<n.options.length;t++){const o=n.options[t].value,a=n.options[t].textContent;o.startsWith(c)&&(e[n.name][c][o]=a)}}}}),n.forEach(e=>{const n=document.getElementsByName(t[e.name])[0];n._cascadingAttached||(n._cascadingAttached=!0,n.addEventListener("change",function(){const e=n.value;o(n.name,e)}))})})});