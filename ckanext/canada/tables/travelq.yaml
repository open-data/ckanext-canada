dataset_type: travelq
target_dataset: travelq

title: Proactive Disclosure - Travel Expenses
notes: Access, upload and modify the quarterly travel expense reports for your organization

portal_type: info
collection: pd

resources:
- title: Proactive Disclosure - Travel Expenses
  resource_name: travelq
  fields:

  - datastore_id: ref_number
    label: Reference Number
    datastore_type: text
    excel_column_width: 20

  - datastore_id: name
    label: Name
    datastore_type: text
    excel_column_width: 30

  - datastore_id: title_en
    label: Title (English)
    datastore_type: text
    excel_column_width: 30

  - datastore_id: title_fr
    label: Title (French)
    datastore_type: text
    excel_column_width: 30

  - datastore_id: purpose_en
    label: Purpose of Travel (English)
    datastore_type: text
    excel_column_width: 30

  - datastore_id: purpose_fr
    label: Purpose of Travel (French)
    datastore_type: text
    excel_column_width: 30

  - datastore_id: start_date
    label: Travel Start Date
    datastore_type: date
    excel_column_width: 20
    extract_date_year: true
    extract_date_month: true

  - datastore_id: end_date
    label: Travel End Date
    datastore_type: date
    excel_column_width: 20

  - datastore_id: destination_en
    label: Destination (English)
    datastore_type: text
    excel_column_width: 20

  - datastore_id: destination_fr
    label: Destination (French)
    datastore_type: text
    excel_column_width: 20

  - datastore_id: airfare
    label: Airfare
    datastore_type: money
    excel_column_width: 20

    solr_float_range_facet:
     - label: $0 - $249.99
       less_than: 250
     - label: $250 - $499.99
       less_than: 500
     - label: $500 - $999.99
       less_than: 1000
     - label: $1,000 - $4,999.99
       less_than: 5000
     - label: $5,000 - $24,999.99
       less_than: 25000
     - label: $25,000+

  - datastore_id: other_transport
    label: Other transportation
    datastore_type: money
    excel_column_width: 20

  - datastore_id: accomodation
    label: Accommodation
    datastore_type: money
    excel_column_width: 20

    solr_float_range_facet:
     - label: $0 - $249.99
       less_than: 250
     - label: $250 - $499.99
       less_than: 500
     - label: $500 - $999.99
       less_than: 1000
     - label: $1,000 - $4,999.99
       less_than: 5000
     - label: $5,000 - $24,999.99
       less_than: 25000
     - label: $25,000+

  - datastore_id: meals
    label: Meals and incidentals
    datastore_type: money
    excel_column_width: 20

  - datastore_id: other_expenses
    label: Other expenses
    datastore_type: money
    excel_column_width: 20

    solr_float_range_facet:
     - label: $0 - $249.99
       less_than: 250
     - label: $250 - $499.99
       less_than: 500
     - label: $500 - $999.99
       less_than: 1000
     - label: $1,000 - $4,999.99
       less_than: 5000
     - label: $5,000 - $24,999.99
       less_than: 25000
     - label: $25,000+

  - datastore_id: total
    label: Total Amount
    datastore_type: money
    excel_column_width: 20

    solr_float_range_facet:
     - label: $0 - $249.99
       less_than: 250
     - label: $250 - $499.99
       less_than: 500
     - label: $500 - $999.99
       less_than: 1000
     - label: $1,000 - $4,999.99
       less_than: 5000
     - label: $5,000 - $24,999.99
       less_than: 25000
     - label: $25,000+

  datastore_primary_key: [ref_number]
  datastore_indexes: ""
  excel_organization_style:
    PatternFill:
      patternType: solid
      fgColor: FFC8E1EA
    Font:
      bold: true
  excel_header_style:
    PatternFill:
      patternType: solid
      fgColor: FF90C3D4

  examples:
    record:
      ref_number: "1980198"
      name: Jane Smith
      date: "2016-01-01"
      destination: Halifax
      airfare: "600.00"
      other_transport: "0"
      other_expenses: "50.00"
      total: "650.00"
    filters:
      name: Jane Smith
    filter_one:
      ref_number: "1980198"
    sort: date desc


- title: Proactive Disclosure - Travel Expenses Nothing to Report
  resource_name: travelq-nil
  fields:

  - datastore_id: year
    label: Year
    datastore_type: year
    excel_column_width: 10 
    choices:
      2017: "2017"
      2016: "2016"
      2015: "2015"
      2014: "2014"
      2013: "2013"
      2012: "2012"
      2011: "2011"
      2010: "2010"
      2009: "2009"
      2008: "2008"
      2007: "2007"
      2006: "2006"
      2005: "2005"
      2004: "2004"
      2003: "2003"
      2002: "2002"
      2001: "2001"
      2000: "2000"
      1999: "1999"
      1998: "1998"
      1997: "1997"
      1996: "1996"
      1995: "1995"

  - datastore_id: quarter
    label: Quarter
    datastore_type: text
    excel_column_width: 10
    choices:
      Q1:
        en: March 2 - June 1
        fr: 2 mars - 1 juin
      Q2:
        en: June 2 - September 1
        fr: 2 juin - 1 septembre
      Q3:
        en: September 2 - December 1
        fr: 2 septembre - 1 décembre
      Q4:
        en: December 2 - March 1
        fr: 2 décembre - 1 mars

  datastore_primary_key: [year, quarter]
  datastore_indexes: ""
  excel_organization_style:
    PatternFill:
      patternType: solid
      fgColor: FFA8CC8B
    Font:
      bold: true
  excel_header_style:
    PatternFill:
      patternType: solid
      fgColor: FF7E9968

  examples:
    record:
      year: 2016
      quarter: Q2
    filters:
      year: 2016
    filter_one:
      year: 2016
      quarter: Q2
    sort: year desc, quarter desc
